{"version":3,"sources":["../../src/middleware/authMiddleware.js"],"names":["TOKENTIME","SECRET","authenticate","secret","generateAccessToken","req","res","next","token","sign","id","user","expiresIn","respond","status","json","username","module","exports"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,IAAMA,YAAY,KAAK,EAAL,GAAU,EAAV,GAAe,EAAjC,C,CAAoC;AACpC,IAAMC,SAAS,sBAAf;;AAEA,IAAIC,eAAe,0BAAW,EAACC,QAAQF,MAAT,EAAX,CAAnB;;AAEA,IAAIG,sBAAsB,SAAtBA,mBAAsB,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC5CF,MAAIG,KAAJ,GAAYH,IAAIG,KAAJ,IAAa,EAAzB;AACAH,MAAIG,KAAJ,GAAY,uBAAIC,IAAJ,CAAS;AACnBC,QAAIL,IAAIM,IAAJ,CAASD;AADM,GAAT,EAETT,MAFS,EAED;AACTW,eAAWZ,SADF,CACY;AADZ,GAFC,CAAZ;AAKAO;AACD,CARD;;AAUA,IAAIM,UAAU,SAAVA,OAAU,CAACR,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACJ,MAAMN,IAAIM,IAAJ,CAASK,QAAhB,EAA0BR,OAAOH,IAAIG,KAArC,EAArB;AACD,CAFD;AAGAS,OAAOC,OAAP,GAAiB;AACfhB,4BADe;AAEfE,0CAFe;AAGfS;AAHe,CAAjB","file":"authMiddleware.js","sourcesContent":["import jwt from 'jsonwebtoken';\nimport expressJwt from 'express-jwt';\n\nconst TOKENTIME = 60 * 60 * 24 * 30 // 30 Ddays\nconst SECRET = \"W3 hav3 th3 kn0w h0w\";\n\nlet authenticate = expressJwt({secret: SECRET});\n\nlet generateAccessToken = (req, res, next) => {\n  req.token = req.token || {};\n  req.token = jwt.sign({\n    id: req.user.id\n  }, SECRET, {\n    expiresIn: TOKENTIME // 30 days\n  });\n  next();\n}\n\nlet respond = (req, res) => {\n  res.status(200).json({user: req.user.username, token: req.token});\n}\nmodule.exports = {\n  authenticate,\n  generateAccessToken,\n  respond\n}\n"]}